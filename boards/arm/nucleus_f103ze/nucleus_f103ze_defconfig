CONFIG_ARM=y
CONFIG_BOARD_NUCLEUS_F103ZE=y
CONFIG_SOC_FAMILY_STM32=y
CONFIG_SOC_SERIES_STM32F1X=y
CONFIG_SOC_STM32F103XE=y
CONFIG_CORTEX_M_SYSTICK=y
# 72MHz system clock
CONFIG_SYS_CLOCK_HW_CYCLES_PER_SEC=72000000

CONFIG_HAS_DTS=y

# enable uart driver
CONFIG_SERIAL=y

#
# Capabilities
#
CONFIG_SERIAL_HAS_DRIVER=y
CONFIG_SERIAL_SUPPORT_INTERRUPT=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_UART_LINE_CTRL=y
CONFIG_UART_DRV_CMD=y

#
# Serial Drivers
#
CONFIG_UART_STM32=y
CONFIG_UART_STM32_PORT_1=y
CONFIG_UART_STM32_PORT_2=y


# enable pinmux
CONFIG_PINMUX=y
CONFIG_PINMUX_NAME="PINMUX"
CONFIG_PINMUX_INIT_PRIORITY=45
CONFIG_PINMUX_STM32=y
CONFIG_PINMUX_STM32_DEVICE_INITIALIZATION_PRIORITY=2


# enable GPIOs
CONFIG_GPIO=y
CONFIG_GPIO_STM32=y
CONFIG_GPIO_STM32_PORTA=y
CONFIG_GPIO_STM32_PORTB=y
CONFIG_GPIO_STM32_PORTC=y
CONFIG_GPIO_STM32_PORTD=y
CONFIG_GPIO_STM32_PORTE=y
CONFIG_GPIO_STM32_PORTF=y
CONFIG_GPIO_STM32_PORTG=y

# clock configuration
CONFIG_CLOCK_CONTROL=y
# Clock configuration for Cube Clock control driver
CONFIG_CLOCK_STM32_HSE_CLOCK=8000000
CONFIG_CLOCK_STM32_SYSCLK_SRC_PLL=y
# use HSE as PLL input
CONFIG_CLOCK_STM32F_PLL_SRC_HSE=y
# produce 72MHz clock at PLL output
CONFIG_CLOCK_STM32_PLL_XTPRE=n
CONFIG_CLOCK_STM32_PLL_MULTIPLIER=9
CONFIG_CLOCK_STM32_AHB_PRESCALER=1
# APB1 clock must not to exceed 36MHz limit
CONFIG_CLOCK_STM32_APB1_PRESCALER=2
CONFIG_CLOCK_STM32_APB2_PRESCALER=1

#enable SPI
CONFIG_SPI_LEGACY_API=n
CONFIG_SPI=y
CONFIG_SPI_STM32=y
CONFIG_SPI_STM32_INTERRUPT=y
CONFIG_SPI_INIT_PRIORITY=70
# CONFIG_SPI_CS_GPIO is not set
CONFIG_SPI_0=y
CONFIG_SPI_0_NAME="SPI_0"
CONFIG_SPI_0_IRQ_PRI=70
CONFIG_SPI_0_DEFAULT_CFG=0x80
CONFIG_SPI_0_DEFAULT_BAUD_RATE=500000
CONFIG_SPI_1=y
CONFIG_SPI_1_NAME="SPI_1"
CONFIG_SPI_1_IRQ_PRI=71
CONFIG_SPI_1_DEFAULT_CFG=0x80
CONFIG_SPI_1_DEFAULT_BAUD_RATE=500000


#enable I2C
CONFIG_I2C=y
CONFIG_I2C_INIT_PRIORITY=60
CONFIG_I2C_0=y
CONFIG_I2C_0_NAME="I2C_0"
CONFIG_I2C_0_DEFAULT_CFG=0x0
CONFIG_I2C_0_IRQ_PRI=60

#enable PWM
CONFIG_PWM=y
CONFIG_PWM_STM32=y
CONFIG_PWM_STM32_1=y
CONFIG_PWM_STM32_1_DEV_NAME="PWM_1"
CONFIG_PWM_STM32_2=y
CONFIG_PWM_STM32_2_DEV_NAME="PWM_2"

#enable ADC
CONFIG_ADC=y
CONFIG_ADC_INIT_PRIORITY=80
CONFIG_ADC_0=y
CONFIG_ADC_0_NAME="ADC_0"
CONFIG_ADC_0_IRQ_PRI=2
CONFIG_ADC_1=y
CONFIG_ADC_1_NAME="ADC_1"
CONFIG_ADC_1_IRQ_PRI=2

#enable RTC
CONFIG_RTC=y
CONFIG_RTC_0_NAME="RTC_0"

#enable WATCHDOG
CONFIG_WATCHDOG=y
CONFIG_IWDG_STM32=y
CONFIG_IWDG_STM32_PRESCALER=4
CONFIG_IWDG_STM32_RELOAD_COUNTER=2048
# CONFIG_IWDG_STM32_START_AT_BOOT is not set
CONFIG_IWDG_STM32_DEVICE_NAME="IWDG"

CONFIG_DHT=y
CONFIG_DHT_CHIP_DHT11=y
# CONFIG_DHT_CHIP_DHT22 is not set
CONFIG_DHT_NAME="DHT11"
CONFIG_DHT_GPIO_DEV_NAME="GPIO_0"
CONFIG_DHT_GPIO_PIN_NUM=0


#enable DMA
CONFIG_DMA=y
CONFIG_DMA_0_NAME="DMA_0"
CONFIG_DMA_0_IRQ_PRI=3
CONFIG_DMA_1_NAME="DMA_1"
CONFIG_DMA_1_IRQ_PRI=3
CONFIG_DMA_2_NAME="DMA_2"
CONFIG_DMA_2_IRQ_PRI=3

#enable CRYPTO
CONFIG_CRYPTO=y
CONFIG_CRYPTO_INIT_PRIORITY=90
CONFIG_CRYPTO_TINYCRYPT_SHIM=y
CONFIG_CRYPTO_TINYCRYPT_SHIM_MAX_SESSION=2
CONFIG_CRYPTO_TINYCRYPT_SHIM_DRV_NAME="CRYPTO_TC"

#
# C Library
#
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y
CONFIG_NEWLIB_LIBC_FLOAT_SCANF=y

#
# HALs
#
CONFIG_HAS_CMSIS=y
CONFIG_HAS_STM32CUBE=y

#
# Cryptography
#
CONFIG_TINYCRYPT=y
CONFIG_TINYCRYPT_CTR_PRNG=y
CONFIG_TINYCRYPT_SHA256=y
CONFIG_TINYCRYPT_SHA256_HMAC=y
CONFIG_TINYCRYPT_SHA256_HMAC_PRNG=y
CONFIG_TINYCRYPT_ECC_DH=y
CONFIG_TINYCRYPT_ECC_DSA=y
CONFIG_TINYCRYPT_AES=y
CONFIG_TINYCRYPT_AES_CBC=y
CONFIG_TINYCRYPT_AES_CTR=y
CONFIG_TINYCRYPT_AES_CCM=y
CONFIG_TINYCRYPT_AES_CMAC=y
CONFIG_MBEDTLS=y

# console
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
